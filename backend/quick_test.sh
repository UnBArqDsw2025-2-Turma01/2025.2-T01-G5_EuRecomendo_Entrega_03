#!/bin/bash

echo "üîß CONFIGURA√á√ÉO JWT CORRIGIDA!"
echo "=============================="

echo "üìù Passos para testar:"
echo ""
echo "1. Reiniciar o container para aplicar as mudan√ßas:"
echo "   docker compose restart web"
echo ""
echo "2. Aguardar alguns segundos e testar o token:"
echo "   curl -X POST http://localhost:8000/api/token/ \\"
echo "     -H \"Content-Type: application/json\" \\"
echo "     -d '{\"username\":\"admin\",\"password\":\"admin123\"}'"
echo ""
echo "3. Se funcionar, definir o TOKEN e testar a API:"
echo "   TOKEN=\"<seu_token_aqui>\""
echo "   ./test_review_api.sh"
echo ""
echo "‚úÖ As corre√ß√µes aplicadas:"
echo "   - Adicionado endpoint /api/token/ para JWT"
echo "   - Configurado SIMPLE_JWT no settings.py"
echo "   - Atualizado ReviewSerializer com campos de data"
echo "   - Adicionado permiss√µes de autentica√ß√£o"
